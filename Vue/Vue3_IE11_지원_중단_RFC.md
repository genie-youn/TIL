# Vue3 IE11 지원 중단 RFC

IE11에 대한 Vue3 지원을 중단하는 [RFC](https://github.com/vuejs/rfcs/blob/ie11/active-rfcs/0000-vue3-ie11-support.md)가 올라왔다.

IE11을 지원하기 위해 많은 비용이 발생하는 반면에 마이크로소프트 조차도 자신들의 서비스에서 IE11에 대한 지원을 중단하고 엣지로 사용자들을 유도하여 전세계 점유율이 1% 미만으로 떨어 그 필요성을 재고해 볼 필요가 있지 않겠냐는 내용이다.

IE 11을 지원하기 위해 필요한 비용들은 다음과 같다.

#### 반응성 구현의 불일치
Vue2의 반응성 시스템이 ES5 getter/setter 로 구현된 반면, Vue3는 ES2015의 Proxy 를 통해 보다 성능이 뛰어나고 완전한 반응성 시스템을 구현하였다. 하지만 이 Proxy 는 IE11에 폴리필로 주입될 수 없다.

이 점이 Vue3가 IE11을 지원하는데 가장 큰 걸림돌이 된다. 이는 서로 다른 방식으로 동작하는 두가지 버전이 (Proxy 기반의 반응성 시스템을 사용하는 하나의 버전과 Vue2와 비슷하게 ES5-getter/setter 에 기반을 둔 반응성 시스템을 사용하는 하나의 버전) 필요하다는 것을 의미한다.

Vue3의 Proxy 기반 반응성 시스템은 완벽에 가깝다. ES5에선 가로채기 어렵거나 불가능했던 많은 연산들을 감지할 수 있게 된다.
예를들면 property가 추가/삭제 되거나, array의 인덱스나 `length` 를 변경하거나, `in` 연산을 체크하는등이 있겠다. Proxy 버전으로 작성된 Vue3의 동일한 코드가 IE11 버전에선 동작하지 않게 된다. 이는 Vue 개발팀에게 기술적인 복잡도로 다가올 뿐만 아니라 개발자들에게도 문제가 된다.

우리의 원래의 목적은 IE11 버전의 development build 에 Proxy와 ES5 반응성 시스템 구현을 둘다 제공하는 것이었다. 그래서 Proxy 가 가능한 개발환경에서 실행될때 이를 감지하고 non-IE11-compatible 를 사용할 것을 경고하게 할 예정이었다.

이것은 이론적으로는 가능하지만 두가지 구현체를 합치는데서 오는 어마어마한 복잡함과 개발환경과 운영환경에서 다르게 동작하는 위험을 안고 있다.

#### 장기간으로 볼때 유지보수의 어려움
IE11을 지원한다는건 전체적인 코드베이스에 사용되고 있는 언어의 기능들을 고려해야 한다는 것을 의미하며 적절한 polyfill과 transpilation 전략을 찾아내야 한다는 것을 의미한다.
